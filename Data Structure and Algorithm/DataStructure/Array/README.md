# 用数组模拟链表比指针实现，优势在哪儿

- [参考](https://www.zhihu.com/question/62290617/answer/2411726280)



优点

- 突破语言限制，使得不支持指针的语言也构造出链表
- 因为空间局部性，对 CPU Cache 更友好（数组的内存地址是连续的）
- 即便在 64 位系统中(指针宽度64位)，数组索引也可以使用 32 位，甚至 16 位，8 位
- 内存管理开销接近于 0
  - 如果要删除结点，可以将节点放入使用 index 链接的 freelist




缺点

- 类型不安全，数组下标只是个整数，而指针有类型
- 可读性差、查错更困难，跟原因 1 有关系
- 如有对已有元素/结点的引用，因为数组扩容时会 Invalidate 所有元素，导致莫名其妙的 bug
  - 对数组扩容会导致迭代器失效
  - 而链表则无需考虑扩容导致迭代器失效的情况
- 略微有点烧脑



其实要换个问题，链表和数组的区别是啥？面试的老八股了