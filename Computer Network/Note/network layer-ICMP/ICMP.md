# 定义

- *ICMP*（Internet Control Message Protocol）Internet控制报文协议。它是TCP/IP协议簇的一个子协议，用于在IP主机、路由器之间传递控制消息。控制消息是指网络通不通、主机是否可达、路由是否可用等网络本身的消息。
- 全名是互联网控制报文协议
- 主要功能包括
  - 确认 IP 包是否成功送达⽬标地址
  - 报告发送过程中 IP 包被废弃的原因和改善⽹络设置等







# 两大类

- ⼀类是⽤于诊断的查询消息，也就是「查询报⽂类型」 
- 另⼀类是通知出错原因的错误消息，也就是「差错报⽂类型」 







# 报文类型

- ![](..\image\ICMP报文类型.png)





# 应用

- ping使用ICMP协议，工作于三层，但是从命令本身来说是属于应用层
- Ping发送一个ICMP(Internet Control Messages Protocol）即因特网信报控制协议；回声请求消息给目的地并报告是否收到所希望的ICMP echo （ICMP回声应答）。它是用来检查网络是否通畅或者网络连接速度的命令

