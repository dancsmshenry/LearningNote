# 定义

- 假设有五位哲学家围坐在一张圆形餐桌旁，做以下两件事情之一：吃饭，或者思考。吃东西的时候，他们就停止思考，思考的时候也停止吃东西

- 哲学家从不交流，容易产生死锁



## 解决办法

方法一

- 用一把全局的mutex，然后每次只有抢到锁的人才能开始拿左右的筷子
- 每次先看自己左右两边的筷子是否为可使用的
  - 如果可以使用，就去抢全局的mutex
  - 否则就要重新去判断当前两边的筷子是否可用
- 有效解决死锁饥饿的问题，但是效率低下（没抢到锁的人只能一直自旋，浪费cpu）
- 而且，如果有人吃的很频繁的话，就可能造成有人会饿死，即抢不到锁



方法二

- 奇数号哲学家先拿他左边的筷子，然后再去拿他右边的筷子
- 偶数号哲学家则先拿右边的筷子，然后再去拿他左边的筷子
- 但感觉并发度有点差...



方法三

- 限制就餐人员，最多只有4个人就餐（这里假设总共就5个哲学家）
- 那么必然有个人能够吃上饭，死锁的问题就能够解开