# 第三章

- TCP套接字：两个具有不同源IP地址或源端口号的到达TCP报文段将被定向到两个不同的套接字上
- UDP套接字：如果两个UDP报文段有不同的源IP地址和/或源端口号，但具有相同的目的IP地址和目的端口号，那么这两个报文段将通过相同的目的套接字被定向到相同的目的进程

- 虽然udp不可靠，但是udp就必须再端到端基础上在运输层提供差错检测（即校验和），端到端原则
- arp自动重传请求协议：差错检测，接收方反馈，重传



dns查询

- 主机向本地域名服务一般是采用递归查询
  - 如果主机所询问的本地域名服务器不知道被查询的域名的ip地址，那本地域名服务器就以dns客户的身份，向其它根域名服务器继续发出查询请求报文(即替主机继续查询)，而不是让主机自己进行下一步查询。
  - 因此，递归查询返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址
  - 说白了，就是你找我查，我不知道，我就替你去问别人，别人不知道，就代我再去问别人
- 本地域名服务器向根域名服务器的查询时迭代查询
  - 当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地服务器：“你下一步应当向哪一个域名服务器进行查询”。
  - 然后让本地服务器进行后续的查询。根域名服务器通常是把自己知道的顶级域名服务器的IP地址告诉本地域名服务器，让本地域名服务器再向顶级域名服务器查询。
  - 结果：查询ip地址，或告诉本地服务器下一步应当向哪一个权限服务器进行查询
  - 说白了，你找我查，我不知道，但我告诉你谁有可能知道，你去找他