- 在静态方法里面创建静态变量，那这个静态变量一开始会初始化吗
  - 答不会，参考线程安全的懒汉模式

- 

- static和const可不可以同时修饰成员函数？（代码测试，不行的！）





## 5、Static 

-  隐藏（static 函数，static 变量均可）
   - 当同时编译多个文件时，所有未加static前缀的全局变量和函数都具有全局可见性
-  保持变量内容的持久
   - 存储在静态数据区的变量会在程序刚开始运行时就完成初始化，也是唯一的一次初始化
   - 共有两种变量存储在静态存储区：全局变量和 static 变量，只不过和全局变量比起来，static 可以控制变量的可见范围
-  默认初始化为0
   - 其实全局变量也具备这一属性，因为全局变量也存储在静态数据区。在静态数据区，内存中所有的字节默认值都是0x00
-  将类对象的类成员声明为 static
   - 在类中的**static 成员变量**属于整个类所拥有，对类的所有对象只有一份拷贝
   - 在类中的**static 成员函数**属于整个类所拥有，这个函数不接收 this 指针，因而只能访问类的 static 成员变量
   - 在类中的**static 成员函数**只可被这一模块内的其它函数调用，这个函数的使用范围被限制在声明它的模块内
   - **static 成员函数**属于类不属于对象，所以没有 this 指针，不能访问非 static 的类成员，只能访问 static 修饰的类成员
   - 在模块内的**static 全局变量**可以被模块内所用函数访问，但不能被模块外其它函数访问
   - **static 类对象**必须在类内声明，在类外进行初始化（static修饰的变量先于对象存在，如果是在类内初始化，会导致每个对象都包含该静态成员）
   - **static成员函数**不能被virtual修饰



# 如何实现局部变量只被初始化一次

- 反汇编后发现，是有一个标志用来记录该局部静态变量是否初始化过，而这个标记可以同时保存8个静态变量的初始状态
- 通常这个标志出现在最先定义的局部静态变量附近
- 如果已初始化了，就跳过
- 参考：https://www.cnblogs.com/yilang/p/12106236.html
- https://www.cnblogs.com/xuxm2007/p/4652944.html