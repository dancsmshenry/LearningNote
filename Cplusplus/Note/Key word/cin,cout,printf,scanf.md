# cout和printf的区别

- cout是一个函数，并对<<针对各种数据进行了重载，所以能够识别不同的数据
- 输出过程时将输出字符放入缓冲区，然后输出到屏幕
- cout是缓冲输出，flush是立即强迫缓冲输出
- printf是无缓冲输出，有输出时立即输出





# Printf函数的实现原理

- 在C/C++中，对函数参数的扫描是从后向前的。 
- C/C++的函数参数是通过压入堆栈的方式来给函数传参数的（堆栈是一种先进后出的数据结构），最先 压入的参数最后出来，在计算机的内存中，数据有2块，一块是堆，一块是栈（函数参数及局部变量在 这里），而栈是从内存的高地址向低地址生长的，控制生长的就是堆栈指针了，最先压入的参数是在最 上面，就是说在所有参数的最后面，最后压入的参数在最下面，结构上看起来是第一个，所以最后压入 的参数总是能够被函数找到，因为它就在堆栈指针的上方
- printf的第一个被找到的参数就是那个字符指针，就是被双引号括起来的那一部分，函数通过判断字符串 里控制参数的个数来判断参数个数及数据类型，通过这些就可算出数据需要的堆栈指针的偏移量了，下 面给出printf("%d,%d",a,b);（其中a、b都是int型的）的汇编代码.

# endl和\n的区别

"\n"

- 表示搜索一个字符串，回车符



'\n'

- 表示一个字符



endl

- 用endl时会刷新缓冲区，使得栈中的东西刷新一次
- 但使用"\n"不会刷新，他只会换行，栈内的数据没有改变
- endl除了写’\n’进外，还调用flush函数，刷新缓冲区，把缓冲区里的数据写入文件或屏幕.考虑效率就用’\n’
- cout << endl;除了往输出流中插入一个’\n’还有刷新输出流的作用.
- cout << endl; 等价于: cout << ‘\n’ << flush;
- 在没有必要刷新输出流的时候应尽量使用cout << ‘\n’, 过多的endl是影响程序执行效率低下的因素之一





# stdout

- stdout

  - 如果标准输出是终端的话，那么就是line buffer（如果看到一个\n的字符，就会把系统调用中所有的数据都输出）
  - 如果是pipe或者file，就是full buffer（要等到一定容量才会把数据全部输出）

  - 缓冲区的目的大概是为了减少系统调用