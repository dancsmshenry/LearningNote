# 定义

- 大端存储：高字节存储在低地址中

  - | 内存地址 | 0x4000 | 0x4001 | 0x4002 | 0x4003 |
    | -------- | ------ | ------ | ------ | ------ |
    | 存放内容 | 0x12   | 0x34   | 0x56   | 0x78   |

- 小端存储：低字节存储在低地址中

  - | 内存地址 | 0x4000 | 0x4001 | 0x4002 | 0x4003 |
    | -------- | ------ | ------ | ------ | ------ |
    | 存放内容 | 0x78   | 0x56   | 0x34   | 0x12   |





# 如何检测

- ```cpp
  #include <iostream>
  using namespace std;
  int main()
  {
      int a = 0x1234;
      //由于int和char的长度不同，借助int型转换成char型，只会留下低地址的部分
      char c = (char)(a);
      if (c == 0x12)
          cout << "big endian" << endl;
      else if (c == 0x34)
          cout << "little endian" << endl;
  }
  ```

- 通过强制转换检测大小端（我的主机默认是小端）



- ```cpp
  #include <iostream>
  using namespace std;
  // union联合体的重叠式存储，endian联合体占用内存的空间为每个成员字节长度的最大值
  union endian
  {
      int a;
      char ch;
  };
  int main()
  {
      endian value;
      value.a = 0x1234;
      // a和ch共用4字节的内存空间
      if (value.ch == 0x12)
          cout << "big endian" << endl;
      else if (value.ch == 0x34)
          cout << "little endian" << endl;
  }
  ```

- 利用union体