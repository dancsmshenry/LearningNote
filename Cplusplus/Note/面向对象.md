# 如何禁止程序自动生成拷贝构造函数

- 为了阻止编译器默认生成拷贝构造函数和拷贝赋值函数，我们需要手动去重写这两个函数，某些情 况下，为了避免调用拷贝构造函数和拷贝赋值函数，我们需要将他们设置成private，防止被调用
- 类的成员函数和friend函数还是可以调用private函数，如果这个private函数只声明不定义，则会产生一 个连接错误
- 针对上述两种情况，我们可以定一个base类，在base类中将拷贝构造函数和拷贝赋值函数设置成 private,那么派生类中编译器将不会自动生成这两个函数，且由于base类中该函数是私有的，因此，派生 类将阻止编译器执行相关的操作



# 如何阻止一个类被实例化

- 将类定义为抽象基类或者将构造函数声明为private
- 不允许类外部创建类对象，只能在类内部创建对象



# 如何设计一个类计算子类的个数

- 为类设计一个static静态变量count作为计数器
- 类定义结束后初始化count
- 在构造函数中对count进行+1
- 设计拷贝构造函数，在进行拷贝构造函数中进行count +1，操作
- 设计复制构造函数，在进行复制函数中对count+1操作
- 在析构函数中对count进行-1



# 析构函数为什么要是虚函数

- 首先
- 父类指针调用子类虚函数（多态），先是调整this指针的位置，再查虚函数表的
- 其次
- 父类指针指向子类对象，实际上会发生指针偏移的情况，即父类指针是指向子类中属于父类的那一部分
- 接着
- 如果不是虚函数，则是静态绑定，